<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <script src="../dist/bundle.js"></script>
    <link rel="stylesheet" href="../style/lab.css">
    <title>Lab assignment 7: CS 320, Fall 2021</title>
  </head>

  <body>
    <h1>Source input</h1>
    <form onsubmit="Lab7.step1(); return false">
      <label for="source">Enter program:</label>
      <div>
        <textarea id="source" name="source" rows="10" style="width: 50%">
def main() {
  var x: number &lt;- input(number);
  x &lt;- x + double(x);
  var y: number &lt;- 0;
  while (y &lt; x) {
    if (y &gt; 10)
      output("a");
    else
      output("b");
    y &lt;- y + 1;
  }
}

def double(a: number) {
  return a + a;
}
</textarea>
      </div>
      <input type="submit" value="Analyze">
    </form>

    <h1>After syntax analysis</h1>
    <p>
      Abstract syntax tree: <div id="parse" class="ast"></div>
      Fully-parenthesized program: <pre id="parens"></pre>
    </p>

    <h1>Preprocessor input</h1>
    <p>Named constant values:
      <form id="constants_form" onsubmit="Lab7.step2(); return false">
        <table id="constants"></table>
        <input id="constants_submit" type="submit" disabled="disabled" value="Check">
      </form>
    </p>

    <h1>After preprocessor</h1>
    <p>
      Expanded abstract syntax tree: <div id="expanded_ast" class="ast"></div>
      Fully parenthesized expanded program: <pre id="expanded_parens"></pre>
    </p>

    <h1>After static analysis</h1>
    <p>
      Typechecking result: <span id="typecheck"></span>
    </p>

    <h1>Execution</h1>
    <input id="go" type="button" value="Start execution" onclick="Lab7.step3(); return false" disabled="disabled">
    <form id="interaction" onsubmit="Lab7.submitInput(); return false">
      Output: <pre id="output"></pre></p>
      <label id="input_label" for="input">Not running.</label>
      <input type="text" id="input" name="input" style="width: 50%" disabled="disabled">
      <input id="input_submit" type="submit" value="Submit input" disabled="disabled">
    </form>
  </body>

</html>